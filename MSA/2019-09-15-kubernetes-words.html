<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>kubernetes words | Today Eddie Learned</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/TIL/10ms_logo.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-1SM39X20B1"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-1SM39X20B1');</script>
    <meta name="description" content="Eddie&#39;s Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.dc919744.css" as="style"><link rel="preload" href="/TIL/assets/js/app.677ead70.js" as="script"><link rel="preload" href="/TIL/assets/js/4.2b83ac88.js" as="script"><link rel="preload" href="/TIL/assets/js/44.4c6b276c.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.10ca4886.js"><link rel="prefetch" href="/TIL/assets/js/11.24cc14e9.js"><link rel="prefetch" href="/TIL/assets/js/12.9af9b282.js"><link rel="prefetch" href="/TIL/assets/js/13.02273081.js"><link rel="prefetch" href="/TIL/assets/js/14.ce107445.js"><link rel="prefetch" href="/TIL/assets/js/15.1b680dc9.js"><link rel="prefetch" href="/TIL/assets/js/16.c5e83920.js"><link rel="prefetch" href="/TIL/assets/js/17.5264d8c7.js"><link rel="prefetch" href="/TIL/assets/js/18.a7e4a09b.js"><link rel="prefetch" href="/TIL/assets/js/19.fd4b7820.js"><link rel="prefetch" href="/TIL/assets/js/20.0e64144e.js"><link rel="prefetch" href="/TIL/assets/js/21.48edc50b.js"><link rel="prefetch" href="/TIL/assets/js/22.f4fd439b.js"><link rel="prefetch" href="/TIL/assets/js/23.a687a434.js"><link rel="prefetch" href="/TIL/assets/js/24.eaf3d960.js"><link rel="prefetch" href="/TIL/assets/js/25.996771ad.js"><link rel="prefetch" href="/TIL/assets/js/26.47ee4ede.js"><link rel="prefetch" href="/TIL/assets/js/27.14db8e7b.js"><link rel="prefetch" href="/TIL/assets/js/28.18478ac8.js"><link rel="prefetch" href="/TIL/assets/js/29.2f7deb8e.js"><link rel="prefetch" href="/TIL/assets/js/30.22f68b3e.js"><link rel="prefetch" href="/TIL/assets/js/31.801e0957.js"><link rel="prefetch" href="/TIL/assets/js/32.9fad7200.js"><link rel="prefetch" href="/TIL/assets/js/33.b73d45f4.js"><link rel="prefetch" href="/TIL/assets/js/34.80bd1162.js"><link rel="prefetch" href="/TIL/assets/js/35.f8d42295.js"><link rel="prefetch" href="/TIL/assets/js/36.ef5029eb.js"><link rel="prefetch" href="/TIL/assets/js/37.3016ae49.js"><link rel="prefetch" href="/TIL/assets/js/38.de68fba6.js"><link rel="prefetch" href="/TIL/assets/js/39.d8a34d59.js"><link rel="prefetch" href="/TIL/assets/js/40.c219aa35.js"><link rel="prefetch" href="/TIL/assets/js/41.0691e4a6.js"><link rel="prefetch" href="/TIL/assets/js/42.9e3fafda.js"><link rel="prefetch" href="/TIL/assets/js/43.a3c053c7.js"><link rel="prefetch" href="/TIL/assets/js/45.fee10dbb.js"><link rel="prefetch" href="/TIL/assets/js/46.1bbb77fa.js"><link rel="prefetch" href="/TIL/assets/js/47.f924304d.js"><link rel="prefetch" href="/TIL/assets/js/5.645d5d3e.js"><link rel="prefetch" href="/TIL/assets/js/6.f5c84fc7.js"><link rel="prefetch" href="/TIL/assets/js/7.3e3bd117.js"><link rel="prefetch" href="/TIL/assets/js/8.ebc6139d.js"><link rel="prefetch" href="/TIL/assets/js/9.542091d3.js"><link rel="prefetch" href="/TIL/assets/js/vendors~mermaid.972a5aa3.js"><link rel="prefetch" href="/TIL/assets/js/vendors~reveal.a0c765d5.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.dc919744.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Eddie Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/0ams/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mysetting.io/u/0Ams" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysetting
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/0ams/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mysetting.io/u/0Ams" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysetting
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>General</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MSA</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/MSA/2019-09-15-kubernetes-words.html" aria-current="page" class="active sidebar-link">kubernetes words</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kubeadm" class="sidebar-link">kubeadm</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kubelet" class="sidebar-link">kubelet</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kube-apiserver" class="sidebar-link">kube-apiserver</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#etcd" class="sidebar-link">ETCD</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kube-proxy" class="sidebar-link">kube-proxy</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kube-dns" class="sidebar-link">kube-dns</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#network-addon" class="sidebar-link">Network addon</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kube-scheduler" class="sidebar-link">kube-scheduler</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#namespace" class="sidebar-link">Namespace</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#kube-controller-manager" class="sidebar-link">kube-controller-manager</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#ingress" class="sidebar-link">Ingress</a></li><li class="sidebar-sub-header"><a href="/TIL/MSA/2019-09-15-kubernetes-words.html#check-status" class="sidebar-link">Check Status</a></li></ul></li><li><a href="/TIL/MSA/2021-02-08-gRPC-with-nodejs.html" class="sidebar-link">gRPC with nodejs</a></li><li><a href="/TIL/MSA/grpc&amp;istio.html" class="sidebar-link">grpc and istio 훑어보기</a></li><li><a href="/TIL/MSA/k8s-service-tutorial.html" class="sidebar-link">k8s Service Tutorial</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Platform</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Theory</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vscode</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kubernetes-단어집"><a href="#kubernetes-단어집" class="header-anchor">#</a> Kubernetes 단어집</h1> <h2 id="kubeadm"><a href="#kubeadm" class="header-anchor">#</a> kubeadm</h2> <h2 id="kubelet"><a href="#kubelet" class="header-anchor">#</a> kubelet</h2> <ul><li>kubelet은 클러스터내의 모든 모드에서 실행되는 Agent</li> <li>Node내의 컨테이너들이 실행되는걸 직접적으로 관리하는 역할</li></ul> <h2 id="kube-apiserver"><a href="#kube-apiserver" class="header-anchor">#</a> kube-apiserver</h2> <ul><li><code>kubectl</code> 의 명령어를 받아 주는 API server</li> <li><code>kube-apiserver</code>는 쿠버네티스 클러스터의 api를 사용할수 있게 해주는 프로세스</li></ul> <h2 id="etcd"><a href="#etcd" class="header-anchor">#</a> ETCD</h2> <ul><li>key-value 저장소</li> <li>kubernetes 의 모든 데이터를 이곳에 저장한다.</li> <li><code>필수요소</code>.</li></ul> <h2 id="kube-proxy"><a href="#kube-proxy" class="header-anchor">#</a> kube-proxy</h2> <ul><li>쿠버네티스는 클러스터 내부에 별도의 가상 네트워크를 설정하고 관리</li> <li><code>kube-proxy</code>는 이런 가상 네트워크가 동작할 수 있게 하는 실질적인 역할을 하는 프로세스</li> <li>호스트의 네트워크 규칙을 관리하거나 커넥션 포워딩을 하기도 함</li> <li>kubelet은 PodSpecs라는 설정을 받아서 그 조건에 맞게 컨테이너를 실행하고 컨테이너가 정상정으로 실행되고 있는지 상태 체크 기능포함</li></ul> <h2 id="kube-dns"><a href="#kube-dns" class="header-anchor">#</a> kube-dns</h2> <ul><li>서비스들에 DNS 레코드를 제공하는 역할</li> <li>쿠버네티스 내부에서 실행된 컨테이너들은 자동으로 DNS서버에 등록됩니다. dns 서비스로는 kube-dns와 core-dns가 있음.</li></ul> <h2 id="network-addon"><a href="#network-addon" class="header-anchor">#</a> Network addon</h2> <ul><li>클러스터 내부에 가상네트워크를 구성해서 사용하는데, 이때 kuby-proxy이외에 네트워킹 관련한 애드온을 사용</li> <li>ACI, Calico, Canal, Cilium, CNI-Genie, Contiv, Falannel, Multus, NSX-T, Nuage, Romana, Weave Net등이 있고, OCI의 CNI(Container Network, Interface) 를 구현하고 있다면 다른 애드온들도 사용할 수 있음</li></ul> <h3 id="kube-fannel"><a href="#kube-fannel" class="header-anchor">#</a> kube-fannel</h3> <ul><li>kubernates CNI(Controll Network Interface)중 하나</li> <li>다른 Interface로 변경이 가능하다</li></ul> <h2 id="kube-scheduler"><a href="#kube-scheduler" class="header-anchor">#</a> kube-scheduler</h2> <ul><li>특정 <code>pod</code>을 어디에 배치 할지 선택해주는 역할</li> <li>리소스를 확인 하여, <code>kube-scheduler</code>가 그 조건에 맞는 Node를 찾아주는 역할을 함.</li></ul> <h2 id="namespace"><a href="#namespace" class="header-anchor">#</a> Namespace</h2> <ul><li>네임스페이스는 한 쿠버네티스 클러스터내의 논리적인 분리단위.</li></ul> <h2 id="kube-controller-manager"><a href="#kube-controller-manager" class="header-anchor">#</a> kube-controller-manager</h2> <ul><li>각각의 <code>Controller</code>들이 POD들을 관리하는 역할 <code>kube-controller-manager</code>는 이런 각각의 컨트롤러들을 실행하는 역할</li> <li>각 <code>Controller</code> 논 구조체 형식으로 클러스터 내에서 새로운 <code>Controller</code>가 필요할때마다 만들어지며, 그걸 <code>kube-controller-manager</code>가 관리 하는 큐에 넣어서 실행 하는 방식으로 작동하도록 설계 되어있다.</li></ul> <h3 id="replication-controller"><a href="#replication-controller" class="header-anchor">#</a> Replication Controller</h3> <ul><li><code>Pod를 관리해주는 역할</code></li> <li>Replica의 수, Pod Selector, Pod Template 3가지로 구성
<ul><li>Selector : Label을 기반으로 하여, <code>Replication Controller</code>가 관리한 Pod를 가지고 오는데 사용한다.</li> <li>Replica 수 : <code>Replication Controller</code>에 의해서 관리되는 Pod의 수. 지정된 pod수를 유지 할 수 있도록 해줌</li> <li>Pod template: pod에 대한 정보 (도커 이미지, 포트,라벨등)에 대한 정보를 기입하는 곳을 <code>template</code>이라 표현.</li></ul></li></ul> <h3 id="replicaset"><a href="#replicaset" class="header-anchor">#</a> ReplicaSet</h3> <ul><li>ReplicaSet은 Replication Controller 의 새버전으로 생각하면 된다.큰 차이는 없고 Replication Controller 는 Equality 기반 Selector를 이용하는데 반해, Replica Set은 Set 기반의 Selector를 이용</li></ul> <h3 id="deployment"><a href="#deployment" class="header-anchor">#</a> Deployment</h3> <ul><li>쿠버네티스에서 일반적인 상태가 없는(stateless)앱을 배포할때 사용하는 가장 기본적인 컨트롤러</li></ul> <h3 id="daemonset"><a href="#daemonset" class="header-anchor">#</a> DaemonSet</h3> <ul><li>DaemonSet (이하 DS) 은 Pod가 각각의 노드에서 하나씩만 돌게 하는 형태로 Pod를 관리하는 컨트롤러이다.</li> <li>각 노드에 하나의 pod을 띄울수 있도록 하는 것이다. ex) 노드 모니터링용 툴</li></ul> <h3 id="job"><a href="#job" class="header-anchor">#</a> Job</h3> <ul><li>워크로드 모델중에서 배치나 한번 실행되고 끝나는 형태의 작업이 있을 수 있다.</li> <li>ex) 한번 실행 하거나, 또는 주기적으로 작업을 하는 경우에는 작업을 할때만 Pod을 한번 띄워 실행 하는 형태를 이야기 한다.</li> <li>이러한 형태의 워크로드 모델을 지원하는 컨트롤러를 Job이라고 한다.</li></ul> <h3 id="statefulset"><a href="#statefulset" class="header-anchor">#</a> StatefulSet</h3> <ul><li>단어의 의미 그대로 상태를 가지고 있는 포드들을 관리하는 컨트롤러</li> <li>스테이트풀셋을 사용하면 볼륨을 사용해서 특정 데이터를 기록해두고 그걸 포드가 재시작했을때도 유지</li></ul> <h2 id="ingress"><a href="#ingress" class="header-anchor">#</a> Ingress</h2> <ul><li>Kubernetes에서 HTTP(S)기반의 L7 로드밸런싱 기능을 제공하는 컴포넌트</li> <li>여러 구현체가 존재(search about google)</li> <li>클러스터 외부에서 내부로 접근하는 요청들을 어떻게 처리할지 정의해둔 규칙들의 모음.</li> <li>외부에서 접근가능한 URL을 사용할 수 있게 하고, 트래픽 로드밸런싱, SSL 인증서 처리, 도메인 기반으로 가상 호스팅을 제공</li></ul> <h2 id="check-status"><a href="#check-status" class="header-anchor">#</a> Check Status</h2> <ul><li>pod의 헬스체크를 확인하기 위해서 2가지 상태체크 옵션이 존재</li> <li><code>livenessProbe</code>와 <code>readinessProbe</code> <ul><li><code>livenessProbe</code>는 컨테이너가 살아 있는지 확인하는 역할을 하고 이 헬스체크가 실패하면 kubelet이 컨테이너를 죽이게 됩니다. 컨테이너의 restart policy에 따라 컨테이너가 재시작됩니다.</li> <li>무중단 배포에서 신경써서 봐야할 설정은 <code>readinessProbe</code>이다. <code>readinessProbe</code>는 실제로 컨테이너가 서비스 요청을 처리할 준비가 되었는지를 확인하는데 사용</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/7/2022, 1:57:59 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/General/vim-multi-update.html" class="prev">
        vim에서 여러줄에 주석 설정 및 해제
      </a></span> <span class="next"><a href="/TIL/MSA/2021-02-08-gRPC-with-nodejs.html">
        gRPC with nodejs
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/TIL/assets/js/app.677ead70.js" defer></script><script src="/TIL/assets/js/4.2b83ac88.js" defer></script><script src="/TIL/assets/js/44.4c6b276c.js" defer></script>
  </body>
</html>
